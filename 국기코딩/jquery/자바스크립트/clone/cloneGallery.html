<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        ul {
            list-style: none;
        }

        h1{
            text-align: center;
            padding-top: 20px;
        }

        img {
            max-width: 100%;
        }



        #gallery {
            position: relative;
            width: 600px;
            margin: 30px auto;
            border: 5px solid #eee
        }

        #gallery .mask {
            position: relative;
            width: 100%;
            height: 327px;
            overflow: hidden;
        }

        #gallery .gall {
            width: 600%;
            display: flex;
            position: absolute;
            left: 0;
            top: 0;
        }

        #gallery .gall .set {
            display: flex;
        }

        #gallery .gall li {
            flex: 1
        }

        #gallery .nav {
            display: flex;
            justify-content: center;
            padding: 5px 0;
        }

        #gallery .nav .mn {
            text-decoration: none;
            display: block;
            padding: 10px;
            color: #fff;
            background: #333;
            margin-right: 5px;
        }

        #gallery .prev,#gallery .next{
            position: absolute;
            top: 45%;
            color: #777;
            text-decoration: none;
            border: 1px solid #aaa;
            padding: 10px;
            border-radius: 10px;
            background-color: #f4f4f4;
            box-shadow: 1px 1px 2px #ccc;
        }

        #gallery .prev{
            left: -70px;
        }
        #gallery .next{
            right: -70px;
        }
    </style>

</head>

<body>
    <h1>Smooth Gallery</h1>
    <div id="gallery">
        <div class="mask">
            <div class="gall" id="gall">
                <ul class="set" id="set">
                    <li>
                        <a href="#">
                            <img src="./images2/img1.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="./images2/img2.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <img src="./images2/img3.jpg" alt="">
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <ul class="nav">
            <li><a href="#" class="mn">1</a></li>
            <li><a href="#" class="mn">2</a></li>
            <li><a href="#" class="mn">3</a></li>
        </ul>
        <a href="" class="prev">PREV</a>
        <a href="" class="next">NEXT</a>
    </div>

    <script>
        const gall = document.querySelector("#gall");
        const mn = document.querySelectorAll(".mn");
        let x = 0; //초기값
        let targetX = 0;//초기목적값
        let temp = document.querySelector("#set").cloneNode(true);
        gall.appendChild(temp)

        function smoothMove() {
            x = x + (targetX - x) * 0.1;
            gall.style.left = x + "px";
        }

        setInterval("smoothMove()", 10);

        mn[0].style.background = "hotpink";
        for (let i = 0; i < mn.length; i++) {
            mn[i].addEventListener("click", function (e) {
                e.preventDefault();
                targetX = -600 * i;
                for (let el of mn) {
                    el.style.background = "#333";
                }
                this.style.background = "hotpink";
            });
        }

        //버튼이동
        let prev = document.querySelector(".prev");
        let next = document.querySelector(".next");

        prev.addEventListener("click",function(e){
            e.preventDefault();
            targetX = targetX + 600;
        })

        next.addEventListener("click",function(e){
            e.preventDefault();
            targetX = targetX - 600;
            //이미지 크기보다 1개 적게 해주는 것이 옆의 여백이 안보임
            if (targetX < -600*5){
                x = -600*2; //#gall의 왼쪽 좌표값
                targetX = -600*3
            }
        })

    </script>
</body>

</html>